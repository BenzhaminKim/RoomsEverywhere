@model TorontoRoonRentals.ViewModels.RoomVM

@{
    ViewData["Title"] = "RoomDetail";
}
<style>
    .imgbox {
        display: grid;
        height: 100%;
    }

    .center-fit {
        max-width: 100%;
        max-height: 100vh;
        margin: auto;
    }
    #navbar {
      background-color: #333; /* Black background color */
      position: fixed; /* Make it stick/fixed */
      top: -200px; /* Hide the navbar 50 px outside of the top view */
      width: 100%; /* Full width */
      transition: top 0.3s; /* Transition effect when sliding down (and up) */
      z-index:3;
    }

    /* Style the navbar links */


</style>
<div id="navbar" class="navbar navbar-dark bg-dark pt-3 pb-3 ">

    <div class="d-flex justify-content-start ml-3">
        <h4 class="text-white ">@Model.Room.Price.ToString("C0") <small>per month</small></h4>
    </div>

    <div class="d-flex justify-content-end mr-3">
        <a class="btn btn-outline-light text-white mr-1 pr-4 pl-4" href="tel:416-731-5950"><i class="fas fa-phone"></i> </a>
        <a class="btn btn-outline-light text-white ml-1 pr-4 pl-4" href="mailto:developer.younghwi@gmail.com"><i class="far fa-envelope"></i> </a>
    </div>
   
  

</div>
<div class="container pb-5">
    <div class="row">
        <div class="col-12">

            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    @for (int i = 1; i < Model.RoomImages.Count; i++)
                    {

                        <li data-target="#carouselExampleIndicators" data-slide-to="@i"></li>
                    }
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img class="d-block w-100 limitImage" src="@Model.RoomImages[0].ImagePath">
                    </div>
                    @for (int i = 1; i < Model.RoomImages.Count; i++)
                    {
                        <div class="carousel-item">
                            <img class="d-block w-100 limitImage" src="@Model.RoomImages[i].ImagePath">
                        </div>
                    }
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </div>
    <div class="row ">
        <div class="col-lg-12">
            <h1 class="text-center">@Model.Room.Title</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12 pt-1 pb-1">
            <table class="table">
                <tbody>
                    <tr>
                        <td>Price</td>
                        <td>@Model.Room.Price.ToString("C0")</td>
                    </tr>
                    <tr>
                        <td>Address</td>
                        <td>@Model.Room.Address</td>
                    </tr>
                    <tr>
                        <td>Move in date</td>
                        <td>@Model.Room.Moveindate.ToString("d/MM/yyyy")</td>
                    </tr>
                    <tr>
                        <td>Bathrooms</td>
                        <td>@Model.Room.Bathrooms</td>
                    </tr>
                    @if (Model.Room.IsSmoking)
                    {
                        <tr>
                            <td>Parking</td>
                            <td>Yes</td>
                        </tr>
                    }
                    @if (Model.Room.IsPetFriendly)
                    {
                        <tr>
                            <td>Pet friendly</td>
                            <td>Yes</td>
                        </tr>
                    }
                    @if (Model.Room.IsSmoking)
                    {
                        <tr>
                            <td>Smoking allowed</td>
                            <td>Outside Only</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
    <div class="row pt-1 pb-1 border-top">
        <div class="col-lg-12 pt-1 pb-1">
            <h2 class="text-dark text-center pt-4 pb-3">Description</h2>
            <p class="pb-5">@Model.Description.MainDescription</p>
        </div>
    </div>
    <div class="row border-top text-center">
        <div class="col-lg-12 pt-5 pb-3">
            <h2 class="text-dark">Amenities</h2>
        </div>
    </div>
    <div class="row d-flex justify-content-around pb-5">

        @if (Model.Utilities.HasHeat)
        {
            <div class="text-center">
                <i class="fas fa-fire-alt"></i>
                <p>Heat</p>
            </div>
        }
        @if (Model.Utilities.HasHydro)
        {
            <div class="text-center">
                <i class="fas fa-bolt"></i>
                <p>Hydro</p>
            </div>
        }
        @if (Model.Utilities.HasWater)
        {
            <div class="text-center">
                <i class="fas fa-tint"></i>
                <p>Water</p>
            </div>
        }
        @if (Model.Utilities.HasAirconditioning)
        {
            <div class="text-center">
                <i class="fas fa-snowflake"></i>
                <p>Air conditioning</p>
            </div>
        }
        @if (Model.Utilities.HasWifi)
        {
            <div class="text-center">
                <i class="fas fa-wifi"></i>
                <p>Wifi</p>
            </div>
        }
        @if (Model.Utilities.HasTv)
        {
            <div class="text-center">
                <i class="fas fa-tv"></i>
                <p>TV</p>
            </div>
        }


        @if (Model.Appliances.HasDishwasher)
        {
            <div class="text-center">
                <i class="fas fa-columns"></i>
                <p>Dishwasher</p>
            </div>
        }
        @if (Model.Appliances.HasDryer)
        {
            <div class="text-center">
                <i class="fas fa-wind"></i>
                <p>Dryer</p>
            </div>
        }
        @if (Model.Appliances.HasFridge)
        {
            <div class="text-center">
                <i class="fas fa-th-large"></i>
                <p>Fridge</p>
            </div>
        }
        @if (Model.Appliances.HasLanduary)
        {
            <div class="text-center">
                <i class="fas fa-archive"></i>
                <p>Landuary</p>
            </div>
        }
        @if (Model.Appliances.HasMicrowave)
        {
            <div class="text-center">
                <i class="fas fa-hdd"></i>
                <p>Microwave</p>
            </div>
        }

    </div>
    @if (Model.Description.Transportation != null || Model.Description.Neighborhood != null || Model.Description.Availability != null || Model.Description.Space != null)
    {
        <div class="row pt-5 pb-5 border-top">
            @if (Model.Description.Transportation != null)
            {
                <div class="col-lg-12 pt-3 pb-2">
                    <h3 class="text-body text-center">Transportation</h3>
                    <div class="row">
                        <div class="col-lg-12 pt-3">
                            <span class="text-dark">@Model.Description.Transportation</span>
                        </div>
                    </div>
                </div>
            }
            @if (Model.Description.Neighborhood != null)
            {
                <div class="col-lg-12 pt-3 pb-2">
                    <h3 class="text-body text-center">Neighborhood</h3>
                    <div class="row">
                        <div class="col-lg-12 pt-3">
                            <span>@Model.Description.Neighborhood</span>
                        </div>
                    </div>
                </div>
            }
            @if (Model.Description.Availability != null)
            {
                <div class="col-lg-12 pt-3 pb-2">
                    <h3 class="text-body text-center">Availability</h3>
                    <div class="row">
                        <div class="col-lg-12 pt-3">
                            <span>@Model.Description.Availability</span>
                        </div>
                    </div>
                </div>
            }
            @if (Model.Description.Space != null)
            {
                <div class="col-lg-12 pt-3 pb-2">
                    <h3 class="text-body text-center">Space</h3>
                    <div class="row">
                        <div class="col-lg-12 pt-3">
                            <span>@Model.Description.Space</span>
                        </div>
                    </div>
                </div>
            }

        </div>
    }

    <div class="row pt-5 pb-1 border-top">
        <div class="col-12">
            <h2 class="text-center">Location</h2>
        </div>
    </div>
    <div id="map" style="height:350px;">

    </div>
</div>

<script>

    var markers = [];


    function initMap() {

        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 14,
            center: { lat: @Model.Room.Lat, lng: @Model.Room.Lng },
            gestureHandling: "none"
        });
        var cityCircle = new google.maps.Circle({
            strokeColor: '#FF9900',
            strokeOpacity: 0.1,
            strokeWeight: 1,
            fillColor: '#FF0000',
            fillOpacity: 0.35,
            map: map,
            center: {lat: @Model.Room.Lat, lng: @Model.Room.Lng},
            radius: 500
          });


    }
    window.onscroll = function() {scrollFunction()};

    function scrollFunction()
    {
        if (document.body.scrollTop > 60 || document.documentElement.scrollTop > 60) {
            document.getElementById("navbar").style.top = "0px";
        }
        else {
            
            document.getElementById("navbar").style.top = "-100px";
        }

    }



</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDVqo5gKGiKbhNstQThOhhQQlvkDQ-ds2k&callback=initMap"
        async defer></script>
